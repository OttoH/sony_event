
//which question it is now
var questionNumber = -1;

//page1 is login page.
//page2 is question page.
//page3 is exit page.
var pageNum = 1;

//question data
var selectionobj1 = ["0.6秒","0.03秒","0.9秒"];
var questionObj1 = {questionText:"請問Xperia Performance從休眠到開啟相機完成拍照需要幾秒?",selectiontexts:selectionobj1,answer:1};
var selectionobj2 = ["預測追跡功能","預測追焦功能","預測追貓功能"];
var questionObj2 = {questionText:"請問,當有物體在你面前移動時,Xperia Performance那個攝影功能可以利用electiontexts:selectionobj2,answer:2};
var selectionobj3 = ["OvvO
//which question it is now
var questionNumber = -1;

//page1 is login page.
//page2 is question page.
//page3 is exit page.
var pageNum = 1;

//question data
var selectionobj1 = ["0.6秒","0.03秒","0.9秒"];
var questionObj1 = {questionText:"請問Xperia Performance從休眠到開啟相機完成拍照需要幾秒?",selectiontexts:selectionobj1,answer:1};
var selectionobj2 = ["預測追跡功能","預測追焦功能","預測追貓功能"];
var questionObj2 = {questionText:"請問,當有物體在你面前移動時,Xperia Performance那個攝影功能可以利用?
oelectiontexts:selectionobj2,answer:2};
var selectionobj3 = ["OvvO
//which question it is now
var questionNumber = -1;

//page1 is login page.
//page2 is question page.
//page3 is exit page.
var pageNum = 1;

//question data
var selectionobj1 = ["0.6秒","0.03秒","0.9秒"];
var questionObj1 = {questionText:"請問Xperia Performance從休眠到開啟相機完成拍照需要幾秒?",selectiontexts:selectionobj1,answer:1};
var selectionobj2 = ["預測追跡功能","預測追焦功能","預測追貓功能"];
var questionObj2 = {questionText:"請問,當有物體在你面前移動時,Xperia Performance那個攝影功能可以利用?
vo智慧充電技術"];
var questionObj3 = {questionText:"請問, Sony 智慧電池管理機制，除了續航力高,單次充電後可運作時間更長外,還能將電池使用壽命延長的技術是?oelectiontexts:selectionobj2,answer:2};
var selectionobj3 = ["OvvO
//which question it is now
var questionNumber = -1;

//page1 is login page.
//page2 is question page.
//page3 is exit page.
var pageNum = 1;

//question data
var selectionobj1 = ["0.6秒","0.03秒","0.9秒"];
var questionObj1 = {questionText:"請問Xperia Performance從休眠到開啟相機完成拍照需要幾秒?",selectiontexts:selectionobj1,answer:1};
var selectionobj2 = ["預測追跡功能","預測追焦功能","預測追貓功能"];
var questionObj2 = {questionText:"請問,當有物體在你面前移動時,Xperia Performance那個攝影功能可以利用electiontexts:selectionobj3,answer:3};
var selectionobj4 = ["500萬","800萬","1300萬"];
var questionObj4 = {questionText:"請問,Xperia X Performance自拍相機的畫素是?",selectiontexts:selectionobj4,answer:3};
var selectionobj5 = ["4G+2G","4G+3G","4G+4G"];
var questionObj5 = {questionText:"請問,Xperia X Performance雙卡是?vo智慧充電技術"];
var questionObj3 = {questionText:"請問, Sony 智慧電池管理機制，除了續航力高,單次充電後可運作時間更長外,還能將電池使用壽命延長的技術是?oelectiontexts:selectionobj2,answer:2};
var selectionobj3 = ["OvvO
//which question it is now
var questionNumber = -1;

//page1 is login page.
//page2 is question page.
//page3 is exit page.
var pageNum = 1;

//question data
var selectionobj1 = ["0.6秒","0.03秒","0.9秒"];
var questionObj1 = {questionText:"請問Xperia Performance從休眠到開啟相機完成拍照需要幾秒?",selectiontexts:selectionobj1,answer:1};
var selectionobj2 = ["預測追跡功能","預測追焦功能","預測追貓功能"];
var questionObj2 = {questionText:"請問,當有物體在你面前移動時,Xperia Performance那個攝影功能可以利用electiontexts:selectionobj5,answer:2};
var selectionobj6 = ["Sony G鏡與Sony Alpha相機技術electiontexts:selectionobj3,answer:3};
var selectionobj4 = ["500萬","800萬","1300萬"];
var questionObj4 = {questionText:"請問,Xperia X Performance自拍相機的畫素是?",selectiontexts:selectionobj4,answer:3};
var selectionobj5 = ["4G+2G","4G+3G","4G+4G"];
var questionObj5 = {questionText:"請問,Xperia X Performance雙卡是?vo智慧充電技術"];
var questionObj3 = {questionText:"請問, Sony 智慧電池管理機制，除了續航力高,單次充電後可運作時間更長外,還能將電池使用壽命延長的技術是?oelectiontexts:selectionobj2,answer:2};
var selectionobj3 = ["OvvO
//which question it is now
var questionNumber = -1;

//page1 is login page.
//page2 is question page.
//page3 is exit page.
var pageNum = 1;

//question data
var selectionobj1 = ["0.6秒","0.03秒","0.9秒"];
var questionObj1 = {questionText:"請問Xperia Performance從休眠到開啟相機完成拍照需要幾秒?",selectiontexts:selectionobj1,answer:1};
var selectionobj2 = ["預測追跡功能","預測追焦功能","預測追貓功能"];
var questionObj2 = {questionText:"請問,當有物體在你面前移動時,Xperia Performance那個攝影功能可以利用?
ny Kit鏡與Sony Cybershot相機技術","Sony G鏡與Sony Cybershot Cybershot相機技術"];
var questionObj6 = {questionText:"請問, Xperia X Performance搭載 Android手機中最高畫素的2300萬素是採用Sony那個鏡頭及哪種相機技術?electiontexts:selectionobj5,answer:2};
var selectionobj6 = ["Sony G鏡與Sony Alpha相機技術electiontexts:selectionobj3,answer:3};
var selectionobj4 = ["500萬","800萬","1300萬"];
var questionObj4 = {questionText:"請問,Xperia X Performance自拍相機的畫素是?",selectiontexts:selectionobj4,answer:3};
var selectionobj5 = ["4G+2G","4G+3G","4G+4G"];
var questionObj5 = {questionText:"請問,Xperia X Performance雙卡是?vo智慧充電技術"];
var questionObj3 = {questionText:"請問, Sony 智慧電池管理機制，除了續航力高,單次充電後可運作時間更長外,還能將電池使用壽命延長的技術是?oelectiontexts:selectionobj2,answer:2};
var selectionobj3 = ["OvvO
//which question it is now
var questionNumber = -1;

//page1 is login page.
//page2 is question page.
//page3 is exit page.
var pageNum = 1;

//question data
var selectionobj1 = ["0.6秒","0.03秒","0.9秒"];
var questionObj1 = {questionText:"請問Xperia Performance從休眠到開啟相機完成拍照需要幾秒?",selectiontexts:selectionobj1,answer:1};
var selectionobj2 = ["預測追跡功能","預測追焦功能","預測追貓功能"];
var questionObj2 = {questionText:"請問,當有物體在你面前移動時,Xperia Performance那個攝影功能可以利用electiontexts:selectionobj6,answer:1};
var AllquestionObjs = [questionObj1,questionObj2,questionObj3,questionObj4,questionObj5,questionObj6];


function loginProcess(){
  //username & userphoneNum check
  if(true){
    pageNum = 2;
    $('.enterContent').on('click',questionPageAnimation);
  }
}

//show questions
function createQuestion(){
  var i;
  var idname;
  //reset the proceed
//  $('#proceed').html("");
  //document.getElementById("questionTitles").innerHTML = questionObj.questionText;
  $('.questionTitles').html("Q: "+AllquestionObjs[questionNumber].questionText);
  for(i = 1; i<=3; i++){
      idname = "selection"+ i;
      document.getElementById(idname).innerHTML =
      AllquestionObjs[questionNumber].selectiontexts[i-1];
      //"<div id=selection"+ i +" class=qOptions> ("+i+") "+ AllquestionObjs[questionNumber].selectiontexts[i-1] +"</div>";
  }

  //reset hinttext item
  $('.hinttext').html("不是這個答案喔，麻煩您重新選擇！");
  $('.hinttext').hide();

  //add eventhandler
  $('.qOptions').on('click', checkAnswer);

}

function questionPageAnimation(){
  if(pageNum == 2){
    var percentage;
    $('.qOptions').css('background-color','transparent');
    console.log("loading...question");
    $('.loginPage').hide();

    questionNumber++;
    createQuestion();

    percentage = Number((questionNumber/6)*100).toFixed(1);
    $('.progressPercentage').html(percentage+"%");
    $('.barPercentage').css('width',percentage+'%');

    $('.contentPage').show();
  }
}

function ToExitPage(){
  if(pageNum == 3){
    $('.contentPage').hide();
    $('.exitPage').show();
  }
}

//show result when user click any selection
function checkAnswer(){
  event.preventDefault();
  $('.qOptions').css('background-color','transparent');
  $('#'+event.target.id).css('background-color','#000'); //set selected color.
  //console.log(event.target.id);
  if(event.target.id == ("selection"+AllquestionObjs[questionNumber].answer)){
    //hide hint
    $('.hinttext').hide();

    //$('#proceed').html("<button id=correct>correct, next to...</button>");
    //remove eventhandler
    $('.qOptions').off();
    if(questionNumber==AllquestionObjs.length-1){
      console.log("id:"+event.target.id);
      //$('#proceed').html("<div id=next class=\"fade-in blue\">Correct! All questions are completed.</div>");
      $('.hinttext').css('color','blue');
      $('.hinttext').html("正確答案!全部作答完畢");
      $('.hinttext').show();
      //$('#gotonext').show();
      pageNum = 3;
      setTimeout(ToExitPage, 2000);
    }
    else{
      //$('#proceed').html("<button id=next class=fade-in>correct, go to next.</button>");
      $('.hinttext').css('color','blue');
      $('.hinttext').html("正確答案!");
      $('.hinttext').show();
      //$('#gotonext').show();
      setTimeout(questionPageAnimation, 1000);
      //$('#gotonext').on('click', questionPageAnimation);
    }
  }
  else{
    //$('#proceed').html("<div class=fade-in style=color:red;>incorrect, hint:("+AllquestionObjs[questionNumber].answer+")</div>");
    $('.hinttext').css('color','red');
    $('.hinttext').show();
    //$('#gotonext').hide();
  }
}

//process
//AJAX_get_json();
loginProcess();

